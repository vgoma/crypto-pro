!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("crypto-pro",[],n):"object"==typeof exports?exports["crypto-pro"]=n():e["crypto-pro"]=n()}(this,function(){return function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var i=window.webpackJsonpcrypto_pro;window.webpackJsonpcrypto_pro=function(n,t,r){for(var s,a,l=0,c=[];l<n.length;l++)a=n[l],o[a]&&c.push(o[a][0]),o[a]=0;for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);for(i&&i(n,t,r);c.length;)c.shift()()};var t={},o={2:0};return n.e=function(e){function i(){a.onerror=a.onload=null,clearTimeout(l);var n=o[e];0!==n&&(n&&n[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var t=o[e];if(0===t)return new Promise(function(e){e()});if(t)return t[2];var r=new Promise(function(n,i){t=o[e]=[n,i]});t[2]=r;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,n.nc&&a.setAttribute("nonce",n.nc),a.src=n.p+""+e+".crypto-pro.js";var l=setTimeout(i,12e4);return a.onerror=a.onload=i,s.appendChild(a),r},n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,i,t){n.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(i,"a",i),i},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n.oe=function(e){throw console.error(e),e},n(n.s=4)}([function(e,n,i){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(n,t){void 0!==e&&e.exports?e.exports=t():i(5)("bowser",t)}(0,function(){function e(e){function n(n){var i=e.match(n);return i&&i.length>1&&i[1]||""}var i,t=n(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),r=!o&&/android/i.test(e),a=/nexus\s*[0-6]\s*/i.test(e),l=!a&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),u=/tizen/i.test(e),_=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),E=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),m=!t&&!d&&/macintosh/i.test(e),C=!r&&!p&&!u&&!_&&/linux/i.test(e),f=n(/edge\/(\d+(\.\d+)?)/i),v=n(/version\/(\d+(\.\d+)?)/i),A=/tablet/i.test(e),O=!A&&/[^-]mobi/i.test(e),b=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:s,version:v||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?i={name:"Opera",opera:s,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||v}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:s,version:v||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:s,version:v||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:s,version:v||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:s,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:s,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:s,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:s,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:s,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:s,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",windowsphone:s},f?(i.msedge=s,i.version=f):(i.msie=s,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:s,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?i={name:"Chrome",chromeos:s,chromeBook:s,chrome:s,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:s,version:f}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:s,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||v}:p?i={name:"Sailfish",sailfish:s,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:s,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:s,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=s)):d?i={name:"Amazon Silk",silk:s,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:s,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:s,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:s,version:v||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:_?(i={name:"WebOS",webos:s,version:v||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=s)):/bada/i.test(e)?i={name:"Bada",bada:s,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:u?i={name:"Tizen",tizen:s,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||v}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:s,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||v}:/chromium/i.test(e)?i={name:"Chromium",chromium:s,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||v}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:s,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?i={name:"Android",version:v}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:s},v&&(i.version=v)):t?(i={name:"iphone"==t?"iPhone":"ipad"==t?"iPad":"iPod"},v&&(i.version=v)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:s,version:n(/googlebot\/(\d+(\.\d+))/i)||v}:{name:n(/^(.*)\/(.*) /),version:function(n){var i=e.match(n);return i&&i.length>1&&i[2]||""}(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=s):(i.name=i.name||"Webkit",i.webkit=s),!i.version&&v&&(i.version=v)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=s,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!r&&!i.silk?i.windowsphone||i.msedge||!t?m?i.mac=s:b?i.xbox=s:E?i.windows=s:C&&(i.linux=s):(i[t]=s,i.ios=s):i.android=s;var I="";i.windowsphone?I=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):t?(I=n(/os (\d+([_\s]\d+)*) like mac os x/i),I=I.replace(/[_\s]/g,".")):r?I=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?I=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?I=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?I=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(I=n(/tizen[\/\s](\d+(\.\d+)*)/i)),I&&(i.osversion=I);var h=I.split(".")[0];return A||l||"ipad"==t||r&&(3==h||h>=4&&!O)||i.silk?i.tablet=s:(O||"iphone"==t||"ipod"==t||r||a||i.blackberry||i.webos||i.bada)&&(i.mobile=s),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=s:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=s:i.x=s,i}function n(e){return e.split(".").length}function i(e,n){var i,t=[];if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i++)t.push(n(e[i]));return t}function t(e){for(var t=Math.max(n(e[0]),n(e[1])),o=i(e,function(e){var o=t-n(e);return e+=new Array(o+1).join(".0"),i(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(o[0][t]>o[1][t])return 1;if(o[0][t]!==o[1][t])return-1;if(0===t)return 0}}function o(n,i,o){var r=a;"string"==typeof i&&(o=i,i=void 0),void 0===i&&(i=!1),o&&(r=e(o));var s=""+r.version;for(var l in n)if(n.hasOwnProperty(l)&&r[l]){if("string"!=typeof n[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(n));return t([s,n[l]])<0}return i}function r(e,n,i){return!o(e,n,i)}var s=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var n=0;n<e.length;++n){var i=e[n];if("string"==typeof i&&i in a)return!0}return!1},a.isUnsupportedBrowser=o,a.compareVersions=t,a.check=r,a._detect=e,a})},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function cpcsp_console_log(e,n){if("undefined"!=typeof console)return e<=cadesplugin.current_log_level?(e==cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",n),e==cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",n),void(e==cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",n))):void 0}function set_log_level(e){if(e!=cadesplugin.LOG_LEVEL_DEBUG&&e!=cadesplugin.LOG_LEVEL_INFO&&e!=cadesplugin.LOG_LEVEL_ERROR)return void cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e);cadesplugin.current_log_level=e,cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level==cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))}function set_constantValues(){cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1}function async_spawn(e){function n(e,n){var r;try{r=i[e](n)}catch(e){return Promise.reject(e)}return r.done?r.value:Promise.resolve(r.value).then(t,o)}var i=e(Array.prototype.slice.call(arguments,1)),t=n.bind(n,"next"),o=n.bind(n,"throw");return t()}function isIE(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident\/./i)}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){var e=navigator.userAgent.match(/chrome/i);return isOpera=navigator.userAgent.match(/opr/i),isYaBrowser=navigator.userAgent.match(/YaBrowser/i),!(!(isFireFox=navigator.userAgent.match(/Firefox/i))||!window.allow_firefox_cadesplugin_async)||null!=e&&(e.length>0||null!=isOpera)}function CreateObject(e){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[e]);if(isIE()){if(e.match(/X509Enrollment/i))try{return document.getElementById("certEnrollClassFactory").CreateObject(e)}catch(e){throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}try{return document.getElementById("webClassFactory").CreateObject(e)}catch(n){return new ActiveXObject(e)}}return pluginObject.CreateObject(e)}function decimalToHexString(e){return e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()}function GetMessageFromException(e){var n=e.message;return n?e.number&&(n+=" (0x"+decimalToHexString(e.number)+")"):n=e,n}function getLastError(e){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(e);try{return pluginObject.getLastError()}catch(n){return GetMessageFromException(e)}}function CreateObjectAsync(e){return pluginObject.CreateObjectAsync(e)}function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,function(e,response){ex=e;var str="tmpobj="+response;eval(str),"string"==typeof tmpobj&&(tmpobj=tmpobj.replace(/\\\n/gm,"\n"),tmpobj=tmpobj.replace(/\\\r/gm,"\r"))}),ex)throw ex;return tmpobj}function install_opera_extension(){window.cadesplugin_skip_extension_install?plugin_loaded_error("Плагин недоступен"):document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("div");e.id="cadesplugin_ovr",e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо установить расширение из каталога дополнений Opera.<p><button id='cadesplugin_install' style='font:12px Arial'>Установить расширение</button></p></div>",document.getElementsByTagName("Body")[0].appendChild(e),document.getElementById("cadesplugin_install").addEventListener("click",function(e){opr.addons.installExtension("epebfcehmdedogndhlcacafjaacknbcm",function(){document.getElementById("cadesplugin_ovr").style.visibility="hidden",location.reload()},function(){})}),document.getElementById("cadesplugin_close_install").addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),e.addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),e.style.visibility="visible",document.getElementById("cadesplugin_ovr_item").addEventListener("click",function(e){e.stopPropagation()})})}function firefox_nmcades_onload(){cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",function(e){if("string"==typeof e.data&&e.data.match("cadesplugin_loaded"))if(isFireFox){var n=e.data.substring(e.data.indexOf("url:")+4),i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",n),i.onerror=plugin_loaded_error,i.onload=firefox_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(i)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)},!1)}function load_extension(){if(isFireFox)return void nmcades_api_onload();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e),e=document.createElement("script"),e.setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e)}function load_npapi_plugin(){var e=document.createElement("object");if(e.setAttribute("id","cadesplugin_object"),e.setAttribute("type","application/x-cades"),e.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(e),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var n=document.createElement("object");n.setAttribute("id","certEnrollClassFactory"),n.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n);var i=document.createElement("object");i.setAttribute("id","webClassFactory"),i.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),i.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(i)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(e){if(isNativeMessageSupported()){if(++failed_extensions<2)return;if(isOpera&&(void 0===e||"object"==(void 0===e?"undefined":_typeof(e))))return void install_opera_extension()}void 0!==e&&"object"!=(void 0===e?"undefined":_typeof(e))||(e="Плагин недоступен"),plugin_resolved=1,canPromise?plugin_reject(e):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){1!=plugin_resolved&&(plugin_resolved=1,canPromise?plugin_reject("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function createPromise(e){return new Promise(e)}function check_npapi_plugin(){try{CreateObject("CAdESCOM.About"),plugin_loaded()}catch(i){document.getElementById("cadesplugin_object").style.display="none";var e=navigator.mimeTypes["application/x-cades"];if(e){var n=e.enabledPlugin;plugin_loaded_error(n?"Плагин загружен, но не создаются обьекты":"Ошибка при загрузке плагина")}else plugin_loaded_error("Плагин недоступен")}}function check_plugin_working(){var e=document.createElement("div");if(e.innerHTML="\x3c!--[if lt IE 9]><iecheck></iecheck><![endif]--\x3e",1==e.getElementsByTagName("iecheck").length)return void plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается");isNativeMessageSupported()?load_extension():canPromise?window.addEventListener("load",function(e){load_npapi_plugin(),check_npapi_plugin()},!1):window.addEventListener("message",function(e){"cadesplugin_echo_request"==e.data&&(load_npapi_plugin(),check_npapi_plugin())},!1)}function set_pluginObject(e){pluginObject=e}if(!window.cadesplugin){var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isYaBrowser=0,isFireFox=0,failed_extensions=0,canPromise=!!window.Promise,cadesplugin;cadesplugin=canPromise?new Promise(function(e,n){plugin_resolve=e,plugin_reject=n}):{};var ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(e,n){var i=ru_cryptopro_npcades_10_native_bridge.callbacks[e];i&&i.apply(null,n)},call:function(e,n,i){var t=i&&"function"==typeof i,o=t?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;t&&(ru_cryptopro_npcades_10_native_bridge.callbacks[o]=i);var r=document.createElement("IFRAME"),s=new Array("_CPNP_handle");try{r.setAttribute("src","cpnp-js-call:"+e+":"+o+":"+encodeURIComponent(JSON.stringify(n,s)))}catch(e){alert(e)}document.documentElement.appendChild(r),r.parentNode.removeChild(r),r=null}};cadesplugin.JSModuleVersion="2.1.0",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,2e4),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()}}()},,,function(e,n,i){function t(){f.forEach(function(e){e()})}function o(e){"[object Function]"===Object.prototype.toString.call(e)&&f.push(e)}function r(e){C?e():o(e)}function s(){C=!0,t()}function a(){var e=Array.prototype.slice.call(arguments),n=e.shift();return new Promise(function(i,t){r(function(){var o;return m?void t(m):(o=d[n])?void o.apply(null,e).then(i,t):void t('Метод "'+n+'" не доступен')})})}var l,c,d,p=i(0),u=p._detect(navigator.userAgent),_=Function("return this")(),g=Boolean(_.Promise),E=_.CryptoProConfig,m="",C=!1,f=[];if(_.allow_firefox_cadesplugin_async=u.firefox&&u.version>=52,i(1),c=_.cadesplugin,l=Boolean(c.CreateObjectAsync),!c)throw new Error("Не подключен модуль для работы с cades plugin");if(l=Boolean(c.CreateObjectAsync),c.set_log_level(c.LOG_LEVEL_ERROR),E&&E.publicPath&&(i.p=E.publicPath),!g)throw new Error("Не поддерживаются промисы. Необходим полифилл.");c.then(function(){l?i.e(1).then(function(){d=i(2),s()}.bind(null,i)).catch(i.oe):i.e(0).then(function(){d=i(3),s()}.bind(null,i)).catch(i.oe)},function(){m="КриптоПРО ЭЦП Browser Plug-In не доступен",s()}),e.exports={call:a}},function(e,n){e.exports=function(){throw new Error("define cannot be used indirect")}}])});
//# sourceMappingURL=crypto-pro.js.map